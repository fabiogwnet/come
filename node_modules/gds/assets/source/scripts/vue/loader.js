Vue.component('gds-loader', {
  props: {
    type: {
        type: String,
        default: 'spinner'
    },
    error: {
      type: Boolean,
      default: false
    },
    empty: {
      type: Boolean,
      default: false
    },
    compact: {
      type: Boolean,
      default: false
    },
    background: {
      type: String,
      default: 'rgba(255, 255, 255, 0.9)'
    }
  },
  data: function () {
      return {}
  },
  template: `
      <div class="gds-loader" :class="[{ error }, type]" :style="{ background }">
        <template v-if="error">
          <div class="feedback">
            <slot name="feedback-icon"><i class="fas fa-exclamation-circle text-24 text-danger mb-1"></i></slot>
            <p class="text-black mb-0"><slot name="feedback-title">Não foi possível carregar</slot></p>
            <p v-if="!compact" class="mb-0 text-12"><slot name="feedback-message">Tente novamente, caso persistir entre em contato com o suporte pelo chat.</slot></p>
            <slot name="feedback-button"><button class="btn btn-sm btn-outline-secondary mt-2" @click="$emit('reload')"><i class="fas fa-redo"></i> Atualizar</button></slot>
          </div>
        </template>
        <template v-else-if="empty">
          <div class="feedback">
            <slot name="feedback-icon"><i class="fas fa-info-circle text-24 text-info mb-1"></i></slot>
            <p class="text-black mb-0"><slot name="feedback-title">Sem dados no período</slot></p>
            <p v-if="!compact" class="mb-0 text-12"><slot name="feedback-message">Tente filtrar um período maior.</slot></p>
            <slot name="feedback-button"></slot>
          </div>
        </template>
        <template v-else-if="type == 'spinner'">
          <div class="spinner-border text-red" style=" width: 2.5rem; height: 2.5rem; " role="status">
            <span class="sr-only">Carregando...</span>
          </div>
        </template>
        <template v-else-if="type == 'big-number'">
            <div class="placeholder large"></div>
        </template>
        <template v-else-if="type == 'text-small'">
            <div class="placeholder large"></div>
        </template>
      </div>
  `
});